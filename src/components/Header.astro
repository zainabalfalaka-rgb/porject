---
const currentPath = Astro.url.pathname;
---

<header class="header">
  <div class="container">
    <nav class="nav">
      <div class="nav-brand">
        <a href="/" class="brand-link">
          <img src="https://khalijtrust.com/img/logo4.png" alt="دليل الخليج" class="logo" loading="eager" />
        </a>
      </div>
      
      <div class="search-container">
        <div class="search-form">
          <input 
            type="text" 
            id="searchInput"
            placeholder="ابحث عن شركة، محامي أو دليل..." 
            class="search-input"
            autocomplete="off"
          />
          <button type="button" class="search-button" id="searchButton">
            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
          </button>
          
          <!-- Search Results Dropdown -->
          <div class="search-results" id="searchResults" style="display: none;">
            <div class="search-results-content" id="searchResultsContent">
              <!-- Results will be populated by JavaScript -->
            </div>
          </div>
        </div>
      </div>

      <div class="nav-menu" id="navMenu">
        <div class="nav-links">
          <a href="/warnings/" class={`nav-link ${currentPath.startsWith('/warnings') ? 'active' : ''}`}>
            تحذيرات
          </a>
          <a href="/fake-lawyers/" class={`nav-link ${currentPath.startsWith('/fake-lawyers') ? 'active' : ''}`}>
            محامون محتالون
          </a>
          <a href="/lawyers/" class={`nav-link ${currentPath.startsWith('/lawyers') ? 'active' : ''}`}>
            مكاتب محاماة موثوقة
          </a>
          <a href="/guides/" class={`nav-link ${currentPath.startsWith('/guides') ? 'active' : ''}`}>
            أدلة توعوية
          </a>
          <a href="/cases/" class={`nav-link ${currentPath.startsWith('/cases') ? 'active' : ''}`}>
            قصص نجاح
          </a>
          <a href="/tools/" class={`nav-link ${currentPath.startsWith('/tools') ? 'active' : ''}`}>
            أدوات تحقق
          </a>
        </div>
      </div>

      <button class="mobile-menu-toggle" id="mobileMenuToggle">
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
      </button>
    </nav>
  </div>
</header>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Header scroll behavior
    const header = document.querySelector('.header');
    let lastScrollY = window.scrollY;
    let ticking = false;

    function updateHeader() {
      const scrollY = window.scrollY;
      
      if (scrollY > 50) {
        header?.classList.add('scrolled');
      } else {
        header?.classList.remove('scrolled');
      }
      
      lastScrollY = scrollY;
      ticking = false;
    }

    function onScroll() {
      if (!ticking) {
        requestAnimationFrame(updateHeader);
        ticking = true;
      }
    }

    window.addEventListener('scroll', onScroll, { passive: true });

    // Search functionality
    const searchInput = document.getElementById('searchInput');
    const searchButton = document.getElementById('searchButton');
    const searchResults = document.getElementById('searchResults');
    const searchResultsContent = document.getElementById('searchResultsContent');
    
    // All searchable content
    const allContent = [
      // Warnings
      {
        type: "warning",
        title: "تحذير من شركة أبيان المالية Abyan Capital",
        description: "شركة استثمار وهمية تستخدم نظام تدوير الأموال والمخططات الهرمية لسرقة أموال المستثمرين",
        url: "/warnings/abyan-capital-scam/",
        category: "تحذيرات",
        rating: 0.5,
        keywords: ["أبيان", "المالية", "Abyan", "Capital", "استثمار", "وهمية", "تدوير", "أموال", "مخطط", "هرمي"]
      },
      {
        type: "warning",
        title: "تحذير من شركة التداول WRPro",
        description: "منصة تداول احتيالية تستخدم أساليب ذكية لخداع المتداولين مع وعود كاذبة بأرباح مرتفعة",
        url: "/warnings/wrpro-scam/",
        category: "تحذيرات",
        rating: 0,
        keywords: ["WRPro", "تداول", "احتيالية", "منصة", "فوركس", "خداع", "وعود", "كاذبة"]
      },
      {
        type: "warning",
        title: "تحذير من شركة التداول TradeEU Global",
        description: "منصة تداول نصابة تروّج لوعود كاذبة بأرباح مرتفعة وتواجهها العديد من الشكاوى بخصوص منع سحب الأموال وخداع المتداولين",
        url: "/warnings/tradee-u-global-scam/",
        category: "تحذيرات",
        rating: 0,
        keywords: ["TradeEU Global", "تداول", "احتيالية", "منصة", "فوركس", "خداع", "وعود", "كاذبة", "نصب"]
      },
      {
        "type": "warning",
        "title": "تحذير من شركة التداول FX-IN (وموقعها الفرعي wt.fx-in.com)",
        "description": "شركة تداول احتيالية تدّعي تقديم خدمات استثمارية في الفوركس والعملات الرقمية، لكنها غير مرخّصة وتواجه شكاوى عديدة من متداولين، خصوصًا في البحرين، بسبب منع سحب الأموال واستعمال أساليب تضليلية. جميع المنصات التابعة لها بما فيها wt.fx-in.com تُعتبر خطيرة ويُنصح بالابتعاد عنها.",
        "url": "/warnings/fx-in/",
        "category": "تحذيرات",
        "rating": 0,
        "keywords": ["FX-IN", "wt.fx-in.com", "تداول", "احتيالية", "فوركس", "نصب", "خداع", "سحب الأموال", "البحرين"]
      },

      {
        type: "warning",
        title: "تحذير من شركة إيفيست Evest",
        description: "وسيط تداول مشبوه يواجه شكاوى متزايدة حول تأخير السحب وعدم وجود تراخيص قوية",
        url: "/warnings/evest-scam/",
        category: "تحذيرات",
        rating: 1,
        keywords: ["إيفيست", "Evest", "وسيط", "تداول", "مشبوه", "تأخير", "سحب", "تراخيص"]
      },
      {
        type: "warning",
        title: "تحذير من شركة اكسيا Axia",
        description: "شركة تداول احتيالية تمارس النصب المنظم من خلال التلاعب في الصفقات ورفض السحب",
        url: "/warnings/axia-scam/",
        category: "تحذيرات",
        rating: 0,
        keywords: ["اكسيا", "Axia", "تداول", "احتيالية", "نصب", "تلاعب", "صفقات", "رفض", "سحب"]
      },
      {
        type: "warning",
        title: "تحذير من شركة CSOP",
        description: "شركة غير مرخصة تستخدم التسويق الهرمي والتلاعب في المنصة لسرقة أموال المتداولين",
        url: "/warnings/csop-scam/",
        category: "تحذيرات",
        rating: 0,
        keywords: ["CSOP", "غير", "مرخصة", "تسويق", "هرمي", "تلاعب", "منصة", "سرقة"]
      },
      {
        type: "warning",
        title: "تحذير من شركة زينستوكس Zenstox",
        description: "شركة ناشئة تواجه اتهامات بالنصب مع مشاكل في السحب ورسوم مرتفعة وعدم شفافية في التراخيص",
        url: "/warnings/zenstox-scam/",
        category: "تحذيرات",
        rating: 1.5,
        keywords: ["زينستوكس", "Zenstox", "ناشئة", "نصب", "مشاكل", "سحب", "رسوم", "مرتفعة"]
      },
      {
        type: "warning",
        title: "تحذير من شركة إنفستيكو Investico",
        description: "شركة احتيالية تستخدم تراخيص مزيفة والتلاعب في الأسعار لسرقة أموال المتداولين",
        url: "/warnings/investico-scam/",
        category: "تحذيرات",
        rating: 0,
        keywords: ["إنفستيكو", "Investico", "احتيالية", "تراخيص", "مزيفة", "تلاعب", "أسعار"]
      },
      
      // Fake Lawyers
       {
        type: "warning",
        title: "تحذير من جهة تنتحل اسم جهاز الرقابة المالية في دبي",
        description: "جهة وهمية تدّعي أنها 'Financial Audit Authority Dubai' وتنشر إعلانات مضللة على فيسبوك وإنستغرام لاستدراج الضحايا، باستخدام اسم 'office.nationalaudit' ورقم واتساب +971544023799. هذه الجهة تنتحل صفة رسمية وترسل مستندات تفويض مزورة وتهاجم مكاتب محاماة نزيهة.",
        url: "/warnings/fake-financial-audit-dubai/",
        category: "تحذيرات",
        rating: 0,
        keywords: [
          "جهاز الرقابة المالية دبي",
          "Financial Audit Authority Dubai",
          "office.nationalaudit",
          "احتيال استرجاع أموال",
          "جهات حكومية وهمية",
          "رقم واتساب نصاب",
          "احتيال فيسبوك",
          "احتيال انستغرام"
        ]
      },
      {
        type: "warning",
        title: "تحذير من المحامي علي النظمي - نصاب محتال",
        description: "المحامي علي النظمي (محمد علي الصادق سابقاً) يغير اسمه لتجنب كشف جرائمه في احتيال استرجاع أموال الفوركس",
        url: "/warnings/ali-alnazmi-scam/",
        category: "تحذيرات",
        rating: 0,
        keywords: ["علي النظمي", "محمد علي الصادق", "محامي نصاب", "احتيال قانوني", "استرجاع أموال"]
      },
      {
        type: "warning",
        title: "تحذير من مكتب المحامي فيصل مشاري العبار",
        description: "مكتب المحامي الشيخ فيصل مشاري العبار يطلب مبالغ ضخمة تحت مسمى رسوم قانونية دون تقديم خدمات فعلية",
        url: "/warnings/faisal-alabar-scam/",
        category: "تحذيرات",
        rating: 0.5,
        keywords: ["فيصل مشاري العبار", "يوسف جاسم العبار", "مكتب محاماة مشبوه", "احتيال قانوني"]
      },
      {
        type: "warning",
        title: "تحذير من مكتب التميمي الوهمي",
        description: "مكتب التميمي الوهمي ينتحل اسم مكتب قانوني سعودي معروف ويدعي العمل من بريطانيا",
        url: "/warnings/altamimi-fake-office/",
        category: "تحذيرات",
        rating: 0,
        keywords: ["مكتب التميمي الوهمي", "انتحال اسم", "مكتب محاماة مزيف", "التميمي بريطانيا"]
      },
      {
        type: "warning",
        title: "تحذير من مكتب المحامي خليفة الكندي",
        description: "مكتب المحامي خليفة الكندي غير موثوق في استرجاع أموال الفوركس ويستغل ضحايا الاحتيال",
        url: "/warnings/khalifa-alkindi-scam/",
        category: "تحذيرات",
        rating: 1,
        keywords: ["خليفة الكندي", "مكتب محاماة غير موثوق", "استرجاع أموال فوركس", "محامي فوركس"]
      },
      {
        type: "warning",
        title: "تحذير من مكتب الشيخ للمحاماة - محتال يغير هويته",
        description: "مكتب الشيخ للمحاماة بقيادة المحامي المزعوم 'الشيخ' يستغل ضحايا الاحتيال المالي ويطلب مبالغ ضخمة مقدماً دون تقديم خدمات حقيقية",
        url: "/warnings/elshikh-law-scam/",
        category: "تحذيرات",
        rating: 0,
        keywords: ["مكتب الشيخ", "الشيخ للمحاماة", "محامي مزيف", "احتيال قانوني", "استرجاع أموال مزيف"]
      },
      {
        type: "warning",
        title: "تحذير من مكتب ليندا علي (ليندا عابد سابقاً)",
        description: "المحامية ليندا علي غيرت اسمها من ليندا عابد وتواصل الاحتيال في استرجاع الأموال",
        url: "/warnings/linda-ali-scam/",
        category: "تحذيرات",
        rating: 0,
        keywords: ["ليندا علي", "ليندا عابد", "محامية نصابة", "احتيال قانوني", "تغيير الهوية"]
      },
          {type: "warning",
            title: "تحذير من مكتب السهلي للمحاماة (خليفة الكندي سابقاً)",
            description: "مكتب السهلي بقيادة ناصر السهلي، الذي عُرف سابقاً باسم خليفة الكندي، متورط في عمليات احتيال واسعة بادعاء استرجاع الأموال من شركات الفوركس، مع انتحال صفة قانونية.",
            url: "/warnings/alsahli-law-scam/",
            category: "تحذيرات",
            rating: 0,
            keywords: ["مكتب السهلي", "ناصر السهلي", "خليفة الكندي", "احتيال قانوني", "محامي وهمي", "استرجاع أموال", "فوركس"]
            },
          {
            type: "warning",
            title: "تحذير من ماجد عبدالله محمد - محتال يغيّر هويته",
            description: "نحذر جميع المتداولين من التعامل مع ماجد عبدالله محمد، الذي كان يُعرف سابقاً باسم ياسر حسن طلال. يستغل حاجة الضحايا لاسترجاع أموالهم في عمليات احتيال ممنهجة.",
            url: "/warnings/majed-abdullah-mohammed-scam/",
            category: "تحذيرات",
            rating: 0,
            keywords: [
              "ماجد عبدالله محمد",
              "ياسر حسن طلال",
              "محامي نصاب",
              "استرجاع أموال مزيفة",
              "احتيال قانوني"
            ]
          } ,

      {
        type: "warning",
        title: "مكتب الخليج العالمي للمحاماة - تحذير من مكتب نصاب",
        description: "مكتب الخليج العالمي يدعي تخصصه في استرجاع الأموال لكنه في الحقيقة مكتب احتيالي يستغل الضحايا",
        url: "/warnings/alkhaleej-global-scam/",
        category: "تحذيرات",
        rating: 0,
        keywords: ["مكتب الخليج العالمي", "محاماة نصابة", "احتيال قانوني", "استرجاع أموال مزيف"]
      },
      
      // Law Firms
      {
        type: "lawyer",
        title: "مكتب Trust Law",
        description: "خبراء استرجاع أموال الفوركس والاستثمارات الاحتيالية مع خبرة 23 سنة ومعدل نجاح 98%",
        url: "/lawyers/trust-law/",
        category: "مكاتب محاماة",
        rating: 5,
        keywords: ["Trust", "Law", "استرجاع", "أموال", "فوركس", "استثمارات", "احتيالية", "لندن", "محامي"]
      },
      {
        type: "lawyer",
        title: "مكتب العربية للمحاماة",
        description: "متخصص في قضايا الاحتيال المالي والاستثمارات الوهمية مع خبرة 18 سنة ومعدل نجاح 94%",
        url: "/lawyers/alarabia-law/",
        category: "مكاتب محاماة",
        rating: 4.9,
        keywords: ["العربية", "محاماة", "احتيال", "مالي", "استثمارات", "وهمية", "لندن", "قانوني"]
      },
      {
        type: "lawyer",
        title: "مكتب LAW FX",
        description: "متخصص في استرجاع أموال الفوركس والعملات الرقمية مع خبرة 15 سنة ومعدل نجاح 91%",
        url: "/lawyers/law-fx/",
        category: "مكاتب محاماة",
        rating: 4.8,
        keywords: ["LAW", "FX", "فوركس", "عملات", "رقمية", "استرجاع", "لندن", "تداول"]
      },
      
      // Guides
      {
        type: "guide",
        title: "كيف تتحقق من رخصة الشركة قبل الاستثمار",
        description: "دليل شامل للتحقق من صحة رخصة الشركة وتجنب الشركات الوهمية قبل الاستثمار",
        url: "/guides/verify-company-license/",
        category: "أدلة توعوية",
        keywords: ["تحقق", "رخصة", "شركة", "استثمار", "وهمية", "حماية", "تراخيص"]
      },
      {
        type: "guide",
        title: "خطوات استرجاع الأموال من البنك",
        description: "الخطوات القانونية لاسترجاع أموالك من البنك في حالات الاحتيال والمعاملات غير المصرح بها",
        url: "/guides/bank-refund-process/",
        category: "أدلة توعوية",
        keywords: ["استرجاع", "أموال", "بنك", "Chargeback", "احتيال", "مصرفي", "قانونية"]
      },
      {
        type: "guide",
        title: "علامات التحذير من شركات الاستثمار الوهمية",
        description: "تعلم كيف تكتشف علامات الإنذار المبكر للشركات المحتالة وتحمي نفسك من الاستثمارات الوهمية",
        url: "/guides/investment-scam-warning-signs/",
        category: "أدلة توعوية",
        keywords: ["علامات", "تحذير", "استثمار", "وهمية", "محتالة", "حماية", "إنذار"]
      },
      {
        type: "guide",
        title: "كيف تحمي نفسك من احتيال العملات الرقمية",
        description: "دليل شامل لحماية استثماراتك في العملات الرقمية من المحتالين والمشاريع الوهمية",
        url: "/guides/crypto-scam-protection/",
        category: "أدلة توعوية",
        keywords: ["حماية", "عملات", "رقمية", "احتيال", "بيتكوين", "كريبتو", "مشاريع", "وهمية"]
      },
      {
        type: "guide",
        title: "التعامل مع منصات التداول المشبوهة",
        description: "كيف تتعرف على منصات التداول الاحتيالية وتتجنبها وتحمي أموالك من الوسطاء المحتالين",
        url: "/guides/suspicious-trading-platforms/",
        category: "أدلة توعوية",
        keywords: ["منصات", "تداول", "مشبوهة", "احتيالية", "وسطاء", "محتالين", "حماية"]
      },
      
      // Success Cases
      {
        type: "case",
        title: "استرجاع 2.5 مليون جنيه من منصة فوركس احتيالية عبر Trust Law",
        description: "قضية معقدة تضمنت تتبع الأموال عبر عدة دول واستخدام القانون الدولي",
        url: "/cases/trust-law-forex-recovery-2-5m/",
        category: "قصص نجاح",
        keywords: ["استرجاع", "مليون", "جنيه", "فوركس", "Trust", "Law", "نجاح", "قضية"]
      },
      {
        type: "case",
        title: "نجاح Trust Law في استرداد 1.8 مليون جنيه من شركة استثمار وهمية",
        description: "شركة استثمار وهمية اختفت بأموال المستثمرين. تم استرجاع كامل المبلغ خلال 10 أشهر",
        url: "/cases/trust-law-investment-recovery-1-8m/",
        category: "قصص نجاح",
        keywords: ["Trust", "Law", "استرداد", "مليون", "استثمار", "وهمية", "نجاح"]
      }
    ];
    
    // Search function
    function searchContent(query) {
      if (!query || query.trim().length < 2) return [];
      
      const searchTerms = query.toLowerCase().trim().split(' ');
      
      return allContent.filter(item => {
        const searchableText = [
          item.title,
          item.description,
          item.category,
          ...item.keywords
        ].join(' ').toLowerCase();
        
        return searchTerms.some(term => searchableText.includes(term));
      }).sort((a, b) => {
        // Sort by relevance - exact matches first
        const aTitle = a.title.toLowerCase();
        const bTitle = b.title.toLowerCase();
        const queryLower = query.toLowerCase();
        
        if (aTitle.includes(queryLower) && !bTitle.includes(queryLower)) return -1;
        if (!aTitle.includes(queryLower) && bTitle.includes(queryLower)) return 1;
        
        return 0;
      }).slice(0, 8); // Limit to 8 results
    }
    
    // Render search results
    function renderResults(results) {
      if (results.length === 0) {
        searchResultsContent.innerHTML = `
          <div class="no-results">
            <p>لم يتم العثور على نتائج</p>
          </div>
        `;
        return;
      }
      
      const resultsHTML = results.map(result => {
        const typeIcon = {
          warning: '⚠️',
          lawyer: '⚖️',
          guide: '📚',
          case: '✅'
        };
        
        const ratingHTML = result.rating !== undefined ? 
          `<div class="result-rating">${'★'.repeat(Math.floor(result.rating))}${'☆'.repeat(5 - Math.floor(result.rating))}</div>` : '';
        
        return `
          <div class="search-result-item" onclick="window.location.href='${result.url}'">
            <div class="result-header">
              <span class="result-icon">${typeIcon[result.type]}</span>
              <span class="result-category">${result.category}</span>
              ${ratingHTML}
            </div>
            <h4 class="result-title">${result.title}</h4>
            <p class="result-description">${result.description}</p>
          </div>
        `;
      }).join('');
      
      searchResultsContent.innerHTML = resultsHTML;
    }
    
    // Handle search input
    function handleSearch() {
      const query = searchInput.value.trim();
      
      if (query.length < 2) {
        searchResults.style.display = 'none';
        return;
      }
      
      const results = searchContent(query);
      renderResults(results);
      searchResults.style.display = 'block';
    }
    
    // Event listeners
    searchInput.addEventListener('input', handleSearch);
    searchInput.addEventListener('focus', handleSearch);
    
    searchButton.addEventListener('click', function() {
      const query = searchInput.value.trim();
      if (query) {
        window.location.href = `/search?q=${encodeURIComponent(query)}`;
      }
    });
    
    searchInput.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        const query = searchInput.value.trim();
        if (query) {
          window.location.href = `/search?q=${encodeURIComponent(query)}`;
        }
      }
    });
    
    // Hide results when clicking outside
    document.addEventListener('click', function(e) {
      if (!e.target.closest('.search-form')) {
        searchResults.style.display = 'none';
      }
    });
    
    const mobileMenuToggle = document.getElementById('mobileMenuToggle');
    const navMenu = document.getElementById('navMenu');
    
    mobileMenuToggle?.addEventListener('click', function() {
      navMenu?.classList.toggle('active');
      mobileMenuToggle.classList.toggle('active');
      
      // Close search when menu opens
      if (navMenu?.classList.contains('active')) {
        searchResults.style.display = 'none';
      }
    });

    // Close mobile menu when clicking on a link
    const navLinks = document.querySelectorAll('.nav-link');
    navLinks.forEach(link => {
      link.addEventListener('click', () => {
        navMenu?.classList.remove('active');
        mobileMenuToggle?.classList.remove('active');
      });
    });

    // Close menu when clicking outside
    document.addEventListener('click', function(e) {
      if (!e.target.closest('.nav-menu') && !e.target.closest('.mobile-menu-toggle')) {
        navMenu?.classList.remove('active');
        mobileMenuToggle?.classList.remove('active');
      }
    });
  });
</script>

<style>
  .header {
    background: white;
    box-shadow: var(--shadow-md);
    position: sticky;
    top: 0;
    z-index: 1000;
    border-bottom: 3px solid var(--color-primary);
    transition: all 0.3s ease;
  }

  .header.scrolled {
    box-shadow: var(--shadow-lg);
    backdrop-filter: blur(10px);
    background: rgba(255, 255, 255, 0.95);
  }

  .nav {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-4) 0;
    gap: var(--space-6);
    transition: padding 0.3s ease;
  }

  .nav-brand {
    flex-shrink: 0;
  }

  .brand-link {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    text-decoration: none;
    color: var(--color-neutral-900);
  }

  .logo {
    height: 90px;
    width: auto;
    transition: height 0.3s ease;
  }

  .header.scrolled .logo {
    height: 60px;
  }

  .header.scrolled .nav {
    padding: var(--space-2) 0;
  }

  .search-container {
    flex: 1;
    max-width: 400px;
    margin: 0 var(--space-6);
  }

  .search-form {
    position: relative;
    display: flex;
    align-items: center;
  }

  .search-input {
    width: 100%;
    padding: var(--space-3) var(--space-12) var(--space-3) var(--space-4);
    border: 2px solid var(--color-neutral-200);
    border-radius: var(--radius-lg);
    font-size: 1rem;
    transition: border-color 0.2s ease;
    direction: rtl;
  }

  .search-input:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(30, 64, 175, 0.1);
  }

  .search-button {
    position: absolute;
    left: var(--space-2);
    padding: var(--space-2);
    background: var(--color-primary);
    color: white;
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.2s ease;
  }

  .search-button:hover {
    background: var(--color-primary-dark);
  }
  
  .search-results {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: white;
    border: 2px solid var(--color-neutral-200);
    border-top: none;
    border-radius: 0 0 var(--radius-lg) var(--radius-lg);
    box-shadow: var(--shadow-lg);
    max-height: 400px;
    overflow-y: auto;
    z-index: 1000;
  }
  
  .search-results-content {
    padding: var(--space-2);
  }
  
  .search-result-item {
    padding: var(--space-4);
    border-bottom: 1px solid var(--color-neutral-100);
    cursor: pointer;
    transition: background-color 0.2s ease;
  }
  
  .search-result-item:hover {
    background: var(--color-neutral-50);
  }
  
  .search-result-item:last-child {
    border-bottom: none;
  }
  
  .result-header {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    margin-bottom: var(--space-2);
  }
  
  .result-icon {
    font-size: 1rem;
  }
  
  .result-category {
    background: var(--color-primary);
    color: white;
    padding: var(--space-1) var(--space-2);
    border-radius: var(--radius-sm);
    font-size: 0.75rem;
    font-weight: var(--font-weight-bold);
  }
  
  .result-rating {
    color: var(--color-secondary);
    font-size: 0.875rem;
    margin-right: auto;
  }
  
  .result-title {
    font-size: 0.875rem;
    font-weight: var(--font-weight-semibold);
    color: var(--color-neutral-900);
    margin: 0 0 var(--space-1);
    line-height: 1.3;
  }
  
  .result-description {
    font-size: 0.75rem;
    color: var(--color-neutral-600);
    margin: 0;
    line-height: 1.4;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .no-results {
    padding: var(--space-6);
    text-align: center;
    color: var(--color-neutral-500);
  }
  
  .search-container {
    position: relative;
  }

  .nav-menu {
    display: flex;
    align-items: center;
  }

  .nav-links {
    display: flex;
    align-items: center;
    gap: var(--space-6);
  }

  .nav-link {
    font-weight: var(--font-weight-semibold);
    color: var(--color-neutral-700);
    text-decoration: none;
    padding: var(--space-2) var(--space-4);
    border-radius: var(--radius-md);
    transition: all 0.2s ease;
    white-space: nowrap;
  }

  .nav-link:hover {
    color: var(--color-primary);
    background: rgba(30, 64, 175, 0.05);
  }

  .nav-link.active {
    color: var(--color-primary);
    background: rgba(30, 64, 175, 0.1);
    font-weight: var(--font-weight-bold);
  }

  .mobile-menu-toggle {
    display: none;
    flex-direction: column;
    justify-content: center;
    width: 30px;
    height: 30px;
    background: transparent;
    cursor: pointer;
    transition: transform 0.3s ease;
  }

  .hamburger-line {
    display: block;
    height: 3px;
    width: 100%;
    background: var(--color-neutral-700);
    margin: 3px 0;
    border-radius: 2px;
    transition: all 0.3s ease;
  }

  .mobile-menu-toggle.active .hamburger-line:nth-child(1) {
    transform: rotate(45deg) translate(5px, 5px);
  }

  .mobile-menu-toggle.active .hamburger-line:nth-child(2) {
    opacity: 0;
  }

  .mobile-menu-toggle.active .hamburger-line:nth-child(3) {
    transform: rotate(-45deg) translate(7px, -6px);
  }

  @media (max-width: 1024px) {
    .search-container {
      max-width: 300px;
      margin: 0 var(--space-4);
    }
    
    .nav-links {
      gap: var(--space-4);
    }
  }

  @media (max-width: 768px) {
    .nav {
      flex-wrap: wrap;
      position: relative;
      padding: var(--space-3) 0;
    }

    .header.scrolled .nav {
      padding: var(--space-2) 0;
    }

    .logo {
      height: 60px;
    }

    .header.scrolled .logo {
      height: 45px;
    }

    .search-container {
      order: 3;
      flex: 1 1 100%;
      max-width: none;
      margin: var(--space-4) 0 0 0;
    }

    .header.scrolled .search-container {
      margin: var(--space-2) 0 0 0;
    }

    .nav-menu {
      position: absolute;
      top: 100%;
      right: 0;
      left: 0;
      background: white;
      box-shadow: var(--shadow-lg);
      border-radius: 0 0 var(--radius-lg) var(--radius-lg);
      transform: translateY(-10px);
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      z-index: 1000;
      max-height: 70vh;
      overflow-y: auto;
    }

    .nav-menu.active {
      transform: translateY(0);
      opacity: 1;
      visibility: visible;
    }

    .nav-links {
      flex-direction: column;
      align-items: stretch;
      gap: 0;
      padding: var(--space-4);
    }

    .nav-link {
      padding: var(--space-4);
      text-align: center;
      border-bottom: 1px solid var(--color-neutral-100);
    }

    .nav-link:last-child {
      border-bottom: none;
    }

    .mobile-menu-toggle {
      display: flex;
      width: 35px;
      height: 35px;
      padding: var(--space-2);
    }

    .header.scrolled .mobile-menu-toggle {
      width: 30px;
      height: 30px;
      padding: var(--space-1);
    }

    .hamburger-line {
      height: 2px;
      margin: 2px 0;
    }

    .header.scrolled .hamburger-line {
      height: 1.5px;
      margin: 1.5px 0;
    }
  }

  @media (max-width: 480px) {
    .nav {
      padding: var(--space-2) 0;
    }

    .header.scrolled .nav {
      padding: var(--space-1) 0;
    }

    .logo {
      height: 50px;
    }

    .header.scrolled .logo {
      height: 35px;
    }

    .search-container {
      margin: var(--space-3) 0 0 0;
    }

    .header.scrolled .search-container {
      margin: var(--space-1) 0 0 0;
    }

    .mobile-menu-toggle {
      width: 30px;
      height: 30px;
    }

    .header.scrolled .mobile-menu-toggle {
      width: 25px;
      height: 25px;
    }
  }
</style>