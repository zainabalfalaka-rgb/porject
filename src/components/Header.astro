---
const currentPath = Astro.url.pathname;
---

<header class="header">
  <div class="container">
    <nav class="nav">
      <div class="nav-brand">
        <a href="/" class="brand-link">
          <img src="https://khalijtrust.com/img/logo4.png" alt="ุฏููู ุงูุฎููุฌ" class="logo" loading="eager" />
        </a>
      </div>
      
      <div class="search-container">
        <div class="search-form">
          <input 
            type="text" 
            id="searchInput"
            placeholder="ุงุจุญุซ ุนู ุดุฑูุฉุ ูุญุงูู ุฃู ุฏููู..." 
            class="search-input"
            autocomplete="off"
          />
          <button type="button" class="search-button" id="searchButton">
            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
          </button>
          
          <!-- Search Results Dropdown -->
          <div class="search-results" id="searchResults" style="display: none;">
            <div class="search-results-content" id="searchResultsContent">
              <!-- Results will be populated by JavaScript -->
            </div>
          </div>
        </div>
      </div>

      <div class="nav-menu" id="navMenu">
        <div class="nav-links">
          <a href="/warnings/" class={`nav-link ${currentPath.startsWith('/warnings') ? 'active' : ''}`}>
            ุชุญุฐูุฑุงุช
          </a>
          <a href="/fake-lawyers/" class={`nav-link ${currentPath.startsWith('/fake-lawyers') ? 'active' : ''}`}>
            ูุญุงููู ูุญุชุงููู
          </a>
          <a href="/lawyers/" class={`nav-link ${currentPath.startsWith('/lawyers') ? 'active' : ''}`}>
            ููุงุชุจ ูุญุงูุงุฉ ููุซููุฉ
          </a>
          <a href="/guides/" class={`nav-link ${currentPath.startsWith('/guides') ? 'active' : ''}`}>
            ุฃุฏูุฉ ุชูุนููุฉ
          </a>
          <a href="/cases/" class={`nav-link ${currentPath.startsWith('/cases') ? 'active' : ''}`}>
            ูุตุต ูุฌุงุญ
          </a>
          <a href="/tools/" class={`nav-link ${currentPath.startsWith('/tools') ? 'active' : ''}`}>
            ุฃุฏูุงุช ุชุญูู
          </a>
        </div>
      </div>

      <button class="mobile-menu-toggle" id="mobileMenuToggle">
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
      </button>
    </nav>
  </div>
</header>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Header scroll behavior
    const header = document.querySelector('.header');
    let lastScrollY = window.scrollY;
    let ticking = false;

    function updateHeader() {
      const scrollY = window.scrollY;
      
      if (scrollY > 50) {
        header?.classList.add('scrolled');
      } else {
        header?.classList.remove('scrolled');
      }
      
      lastScrollY = scrollY;
      ticking = false;
    }

    function onScroll() {
      if (!ticking) {
        requestAnimationFrame(updateHeader);
        ticking = true;
      }
    }

    window.addEventListener('scroll', onScroll, { passive: true });

    // Search functionality
    const searchInput = document.getElementById('searchInput');
    const searchButton = document.getElementById('searchButton');
    const searchResults = document.getElementById('searchResults');
    const searchResultsContent = document.getElementById('searchResultsContent');
    
    // All searchable content
    const allContent = [
      // Warnings
      {
        type: "warning",
        title: "ุชุญุฐูุฑ ูู ุดุฑูุฉ ุฃุจูุงู ุงููุงููุฉ Abyan Capital",
        description: "ุดุฑูุฉ ุงุณุชุซูุงุฑ ููููุฉ ุชุณุชุฎุฏู ูุธุงู ุชุฏููุฑ ุงูุฃููุงู ูุงููุฎุทุทุงุช ุงููุฑููุฉ ูุณุฑูุฉ ุฃููุงู ุงููุณุชุซูุฑูู",
        url: "/warnings/abyan-capital-scam/",
        category: "ุชุญุฐูุฑุงุช",
        rating: 0.5,
        keywords: ["ุฃุจูุงู", "ุงููุงููุฉ", "Abyan", "Capital", "ุงุณุชุซูุงุฑ", "ููููุฉ", "ุชุฏููุฑ", "ุฃููุงู", "ูุฎุทุท", "ูุฑูู"]
      },
      {
        type: "warning",
        title: "ุชุญุฐูุฑ ูู ุดุฑูุฉ ุงูุชุฏุงูู WRPro",
        description: "ููุตุฉ ุชุฏุงูู ุงุญุชูุงููุฉ ุชุณุชุฎุฏู ุฃุณุงููุจ ุฐููุฉ ูุฎุฏุงุน ุงููุชุฏุงูููู ูุน ูุนูุฏ ูุงุฐุจุฉ ุจุฃุฑุจุงุญ ูุฑุชูุนุฉ",
        url: "/warnings/wrpro-scam/",
        category: "ุชุญุฐูุฑุงุช",
        rating: 0,
        keywords: ["WRPro", "ุชุฏุงูู", "ุงุญุชูุงููุฉ", "ููุตุฉ", "ููุฑูุณ", "ุฎุฏุงุน", "ูุนูุฏ", "ูุงุฐุจุฉ"]
      },
      {
        type: "warning",
        title: "ุชุญุฐูุฑ ูู ุดุฑูุฉ ุงูุชุฏุงูู TradeEU Global",
        description: "ููุตุฉ ุชุฏุงูู ูุตุงุจุฉ ุชุฑููุฌ ููุนูุฏ ูุงุฐุจุฉ ุจุฃุฑุจุงุญ ูุฑุชูุนุฉ ูุชูุงุฌููุง ุงูุนุฏูุฏ ูู ุงูุดูุงูู ุจุฎุตูุต ููุน ุณุญุจ ุงูุฃููุงู ูุฎุฏุงุน ุงููุชุฏุงูููู",
        url: "/warnings/tradee-u-global-scam/",
        category: "ุชุญุฐูุฑุงุช",
        rating: 0,
        keywords: ["TradeEU Global", "ุชุฏุงูู", "ุงุญุชูุงููุฉ", "ููุตุฉ", "ููุฑูุณ", "ุฎุฏุงุน", "ูุนูุฏ", "ูุงุฐุจุฉ", "ูุตุจ"]
      },
      {
        "type": "warning",
        "title": "ุชุญุฐูุฑ ูู ุดุฑูุฉ ุงูุชุฏุงูู FX-IN (ููููุนูุง ุงููุฑุนู wt.fx-in.com)",
        "description": "ุดุฑูุฉ ุชุฏุงูู ุงุญุชูุงููุฉ ุชุฏูุนู ุชูุฏูู ุฎุฏูุงุช ุงุณุชุซูุงุฑูุฉ ูู ุงูููุฑูุณ ูุงูุนููุงุช ุงูุฑูููุฉุ ููููุง ุบูุฑ ูุฑุฎูุตุฉ ูุชูุงุฌู ุดูุงูู ุนุฏูุฏุฉ ูู ูุชุฏุงููููุ ุฎุตูุตูุง ูู ุงูุจุญุฑููุ ุจุณุจุจ ููุน ุณุญุจ ุงูุฃููุงู ูุงุณุชุนูุงู ุฃุณุงููุจ ุชุถููููุฉ. ุฌููุน ุงูููุตุงุช ุงูุชุงุจุนุฉ ููุง ุจูุง ูููุง wt.fx-in.com ุชูุนุชุจุฑ ุฎุทูุฑุฉ ููููุตุญ ุจุงูุงุจุชุนุงุฏ ุนููุง.",
        "url": "/warnings/fx-in/",
        "category": "ุชุญุฐูุฑุงุช",
        "rating": 0,
        "keywords": ["FX-IN", "wt.fx-in.com", "ุชุฏุงูู", "ุงุญุชูุงููุฉ", "ููุฑูุณ", "ูุตุจ", "ุฎุฏุงุน", "ุณุญุจ ุงูุฃููุงู", "ุงูุจุญุฑูู"]
      },

      {
        type: "warning",
        title: "ุชุญุฐูุฑ ูู ุดุฑูุฉ ุฅูููุณุช Evest",
        description: "ูุณูุท ุชุฏุงูู ูุดุจูู ููุงุฌู ุดูุงูู ูุชุฒุงูุฏุฉ ุญูู ุชุฃุฎูุฑ ุงูุณุญุจ ูุนุฏู ูุฌูุฏ ุชุฑุงุฎูุต ูููุฉ",
        url: "/warnings/evest-scam/",
        category: "ุชุญุฐูุฑุงุช",
        rating: 1,
        keywords: ["ุฅูููุณุช", "Evest", "ูุณูุท", "ุชุฏุงูู", "ูุดุจูู", "ุชุฃุฎูุฑ", "ุณุญุจ", "ุชุฑุงุฎูุต"]
      },
      {
        type: "warning",
        title: "ุชุญุฐูุฑ ูู ุดุฑูุฉ ุงูุณูุง Axia",
        description: "ุดุฑูุฉ ุชุฏุงูู ุงุญุชูุงููุฉ ุชูุงุฑุณ ุงููุตุจ ุงูููุธู ูู ุฎูุงู ุงูุชูุงุนุจ ูู ุงูุตููุงุช ูุฑูุถ ุงูุณุญุจ",
        url: "/warnings/axia-scam/",
        category: "ุชุญุฐูุฑุงุช",
        rating: 0,
        keywords: ["ุงูุณูุง", "Axia", "ุชุฏุงูู", "ุงุญุชูุงููุฉ", "ูุตุจ", "ุชูุงุนุจ", "ุตููุงุช", "ุฑูุถ", "ุณุญุจ"]
      },
      {
        type: "warning",
        title: "ุชุญุฐูุฑ ูู ุดุฑูุฉ CSOP",
        description: "ุดุฑูุฉ ุบูุฑ ูุฑุฎุตุฉ ุชุณุชุฎุฏู ุงูุชุณููู ุงููุฑูู ูุงูุชูุงุนุจ ูู ุงูููุตุฉ ูุณุฑูุฉ ุฃููุงู ุงููุชุฏุงูููู",
        url: "/warnings/csop-scam/",
        category: "ุชุญุฐูุฑุงุช",
        rating: 0,
        keywords: ["CSOP", "ุบูุฑ", "ูุฑุฎุตุฉ", "ุชุณููู", "ูุฑูู", "ุชูุงุนุจ", "ููุตุฉ", "ุณุฑูุฉ"]
      },
      {
        type: "warning",
        title: "ุชุญุฐูุฑ ูู ุดุฑูุฉ ุฒููุณุชููุณ Zenstox",
        description: "ุดุฑูุฉ ูุงุดุฆุฉ ุชูุงุฌู ุงุชูุงูุงุช ุจุงููุตุจ ูุน ูุดุงูู ูู ุงูุณุญุจ ูุฑุณูู ูุฑุชูุนุฉ ูุนุฏู ุดูุงููุฉ ูู ุงูุชุฑุงุฎูุต",
        url: "/warnings/zenstox-scam/",
        category: "ุชุญุฐูุฑุงุช",
        rating: 1.5,
        keywords: ["ุฒููุณุชููุณ", "Zenstox", "ูุงุดุฆุฉ", "ูุตุจ", "ูุดุงูู", "ุณุญุจ", "ุฑุณูู", "ูุฑุชูุนุฉ"]
      },
      {
        type: "warning",
        title: "ุชุญุฐูุฑ ูู ุดุฑูุฉ ุฅููุณุชููู Investico",
        description: "ุดุฑูุฉ ุงุญุชูุงููุฉ ุชุณุชุฎุฏู ุชุฑุงุฎูุต ูุฒููุฉ ูุงูุชูุงุนุจ ูู ุงูุฃุณุนุงุฑ ูุณุฑูุฉ ุฃููุงู ุงููุชุฏุงูููู",
        url: "/warnings/investico-scam/",
        category: "ุชุญุฐูุฑุงุช",
        rating: 0,
        keywords: ["ุฅููุณุชููู", "Investico", "ุงุญุชูุงููุฉ", "ุชุฑุงุฎูุต", "ูุฒููุฉ", "ุชูุงุนุจ", "ุฃุณุนุงุฑ"]
      },
      
      // Fake Lawyers
       {
        type: "warning",
        title: "ุชุญุฐูุฑ ูู ุฌูุฉ ุชูุชุญู ุงุณู ุฌูุงุฒ ุงูุฑูุงุจุฉ ุงููุงููุฉ ูู ุฏุจู",
        description: "ุฌูุฉ ููููุฉ ุชุฏูุนู ุฃููุง 'Financial Audit Authority Dubai' ูุชูุดุฑ ุฅุนูุงูุงุช ูุถููุฉ ุนูู ููุณุจูู ูุฅูุณุชุบุฑุงู ูุงุณุชุฏุฑุงุฌ ุงูุถุญุงูุงุ ุจุงุณุชุฎุฏุงู ุงุณู 'office.nationalaudit' ูุฑูู ูุงุชุณุงุจ +971544023799. ูุฐู ุงูุฌูุฉ ุชูุชุญู ุตูุฉ ุฑุณููุฉ ูุชุฑุณู ูุณุชูุฏุงุช ุชูููุถ ูุฒูุฑุฉ ูุชูุงุฌู ููุงุชุจ ูุญุงูุงุฉ ูุฒููุฉ.",
        url: "/warnings/fake-financial-audit-dubai/",
        category: "ุชุญุฐูุฑุงุช",
        rating: 0,
        keywords: [
          "ุฌูุงุฒ ุงูุฑูุงุจุฉ ุงููุงููุฉ ุฏุจู",
          "Financial Audit Authority Dubai",
          "office.nationalaudit",
          "ุงุญุชูุงู ุงุณุชุฑุฌุงุน ุฃููุงู",
          "ุฌูุงุช ุญููููุฉ ููููุฉ",
          "ุฑูู ูุงุชุณุงุจ ูุตุงุจ",
          "ุงุญุชูุงู ููุณุจูู",
          "ุงุญุชูุงู ุงูุณุชุบุฑุงู"
        ]
      },
      {
        type: "warning",
        title: "ุชุญุฐูุฑ ูู ุงููุญุงูู ุนูู ุงููุธูู - ูุตุงุจ ูุญุชุงู",
        description: "ุงููุญุงูู ุนูู ุงููุธูู (ูุญูุฏ ุนูู ุงูุตุงุฏู ุณุงุจูุงู) ูุบูุฑ ุงุณูู ูุชุฌูุจ ูุดู ุฌุฑุงุฆูู ูู ุงุญุชูุงู ุงุณุชุฑุฌุงุน ุฃููุงู ุงูููุฑูุณ",
        url: "/warnings/ali-alnazmi-scam/",
        category: "ุชุญุฐูุฑุงุช",
        rating: 0,
        keywords: ["ุนูู ุงููุธูู", "ูุญูุฏ ุนูู ุงูุตุงุฏู", "ูุญุงูู ูุตุงุจ", "ุงุญุชูุงู ูุงูููู", "ุงุณุชุฑุฌุงุน ุฃููุงู"]
      },
      {
        type: "warning",
        title: "ุชุญุฐูุฑ ูู ููุชุจ ุงููุญุงูู ููุตู ูุดุงุฑู ุงูุนุจุงุฑ",
        description: "ููุชุจ ุงููุญุงูู ุงูุดูุฎ ููุตู ูุดุงุฑู ุงูุนุจุงุฑ ูุทูุจ ูุจุงูุบ ุถุฎูุฉ ุชุญุช ูุณูู ุฑุณูู ูุงููููุฉ ุฏูู ุชูุฏูู ุฎุฏูุงุช ูุนููุฉ",
        url: "/warnings/faisal-alabar-scam/",
        category: "ุชุญุฐูุฑุงุช",
        rating: 0.5,
        keywords: ["ููุตู ูุดุงุฑู ุงูุนุจุงุฑ", "ููุณู ุฌุงุณู ุงูุนุจุงุฑ", "ููุชุจ ูุญุงูุงุฉ ูุดุจูู", "ุงุญุชูุงู ูุงูููู"]
      },
      {
        type: "warning",
        title: "ุชุญุฐูุฑ ูู ููุชุจ ุงูุชูููู ุงููููู",
        description: "ููุชุจ ุงูุชูููู ุงููููู ููุชุญู ุงุณู ููุชุจ ูุงูููู ุณุนูุฏู ูุนุฑูู ููุฏุนู ุงูุนูู ูู ุจุฑูุทุงููุง",
        url: "/warnings/altamimi-fake-office/",
        category: "ุชุญุฐูุฑุงุช",
        rating: 0,
        keywords: ["ููุชุจ ุงูุชูููู ุงููููู", "ุงูุชุญุงู ุงุณู", "ููุชุจ ูุญุงูุงุฉ ูุฒูู", "ุงูุชูููู ุจุฑูุทุงููุง"]
      },
      {
        type: "warning",
        title: "ุชุญุฐูุฑ ูู ููุชุจ ุงููุญุงูู ุฎูููุฉ ุงูููุฏู",
        description: "ููุชุจ ุงููุญุงูู ุฎูููุฉ ุงูููุฏู ุบูุฑ ููุซูู ูู ุงุณุชุฑุฌุงุน ุฃููุงู ุงูููุฑูุณ ููุณุชุบู ุถุญุงูุง ุงูุงุญุชูุงู",
        url: "/warnings/khalifa-alkindi-scam/",
        category: "ุชุญุฐูุฑุงุช",
        rating: 1,
        keywords: ["ุฎูููุฉ ุงูููุฏู", "ููุชุจ ูุญุงูุงุฉ ุบูุฑ ููุซูู", "ุงุณุชุฑุฌุงุน ุฃููุงู ููุฑูุณ", "ูุญุงูู ููุฑูุณ"]
      },
      {
        type: "warning",
        title: "ุชุญุฐูุฑ ูู ููุชุจ ุงูุดูุฎ ูููุญุงูุงุฉ - ูุญุชุงู ูุบูุฑ ูููุชู",
        description: "ููุชุจ ุงูุดูุฎ ูููุญุงูุงุฉ ุจููุงุฏุฉ ุงููุญุงูู ุงููุฒุนูู 'ุงูุดูุฎ' ูุณุชุบู ุถุญุงูุง ุงูุงุญุชูุงู ุงููุงูู ููุทูุจ ูุจุงูุบ ุถุฎูุฉ ููุฏูุงู ุฏูู ุชูุฏูู ุฎุฏูุงุช ุญููููุฉ",
        url: "/warnings/elshikh-law-scam/",
        category: "ุชุญุฐูุฑุงุช",
        rating: 0,
        keywords: ["ููุชุจ ุงูุดูุฎ", "ุงูุดูุฎ ูููุญุงูุงุฉ", "ูุญุงูู ูุฒูู", "ุงุญุชูุงู ูุงูููู", "ุงุณุชุฑุฌุงุน ุฃููุงู ูุฒูู"]
      },
      {
        type: "warning",
        title: "ุชุญุฐูุฑ ูู ููุชุจ ูููุฏุง ุนูู (ูููุฏุง ุนุงุจุฏ ุณุงุจูุงู)",
        description: "ุงููุญุงููุฉ ูููุฏุง ุนูู ุบูุฑุช ุงุณููุง ูู ูููุฏุง ุนุงุจุฏ ูุชูุงุตู ุงูุงุญุชูุงู ูู ุงุณุชุฑุฌุงุน ุงูุฃููุงู",
        url: "/warnings/linda-ali-scam/",
        category: "ุชุญุฐูุฑุงุช",
        rating: 0,
        keywords: ["ูููุฏุง ุนูู", "ูููุฏุง ุนุงุจุฏ", "ูุญุงููุฉ ูุตุงุจุฉ", "ุงุญุชูุงู ูุงูููู", "ุชุบููุฑ ุงููููุฉ"]
      },
          {type: "warning",
            title: "ุชุญุฐูุฑ ูู ููุชุจ ุงูุณููู ูููุญุงูุงุฉ (ุฎูููุฉ ุงูููุฏู ุณุงุจูุงู)",
            description: "ููุชุจ ุงูุณููู ุจููุงุฏุฉ ูุงุตุฑ ุงูุณูููุ ุงูุฐู ุนูุฑู ุณุงุจูุงู ุจุงุณู ุฎูููุฉ ุงูููุฏูุ ูุชูุฑุท ูู ุนูููุงุช ุงุญุชูุงู ูุงุณุนุฉ ุจุงุฏุนุงุก ุงุณุชุฑุฌุงุน ุงูุฃููุงู ูู ุดุฑูุงุช ุงูููุฑูุณุ ูุน ุงูุชุญุงู ุตูุฉ ูุงููููุฉ.",
            url: "/warnings/alsahli-law-scam/",
            category: "ุชุญุฐูุฑุงุช",
            rating: 0,
            keywords: ["ููุชุจ ุงูุณููู", "ูุงุตุฑ ุงูุณููู", "ุฎูููุฉ ุงูููุฏู", "ุงุญุชูุงู ูุงูููู", "ูุญุงูู ูููู", "ุงุณุชุฑุฌุงุน ุฃููุงู", "ููุฑูุณ"]
            },
          {
            type: "warning",
            title: "ุชุญุฐูุฑ ูู ูุงุฌุฏ ุนุจุฏุงููู ูุญูุฏ - ูุญุชุงู ูุบููุฑ ูููุชู",
            description: "ูุญุฐุฑ ุฌููุน ุงููุชุฏุงูููู ูู ุงูุชุนุงูู ูุน ูุงุฌุฏ ุนุจุฏุงููู ูุญูุฏุ ุงูุฐู ูุงู ููุนุฑู ุณุงุจูุงู ุจุงุณู ูุงุณุฑ ุญุณู ุทูุงู. ูุณุชุบู ุญุงุฌุฉ ุงูุถุญุงูุง ูุงุณุชุฑุฌุงุน ุฃููุงููู ูู ุนูููุงุช ุงุญุชูุงู ููููุฌุฉ.",
            url: "/warnings/majed-abdullah-mohammed-scam/",
            category: "ุชุญุฐูุฑุงุช",
            rating: 0,
            keywords: [
              "ูุงุฌุฏ ุนุจุฏุงููู ูุญูุฏ",
              "ูุงุณุฑ ุญุณู ุทูุงู",
              "ูุญุงูู ูุตุงุจ",
              "ุงุณุชุฑุฌุงุน ุฃููุงู ูุฒููุฉ",
              "ุงุญุชูุงู ูุงูููู"
            ]
          } ,

      {
        type: "warning",
        title: "ููุชุจ ุงูุฎููุฌ ุงูุนุงููู ูููุญุงูุงุฉ - ุชุญุฐูุฑ ูู ููุชุจ ูุตุงุจ",
        description: "ููุชุจ ุงูุฎููุฌ ุงูุนุงููู ูุฏุนู ุชุฎุตุตู ูู ุงุณุชุฑุฌุงุน ุงูุฃููุงู ูููู ูู ุงูุญูููุฉ ููุชุจ ุงุญุชูุงูู ูุณุชุบู ุงูุถุญุงูุง",
        url: "/warnings/alkhaleej-global-scam/",
        category: "ุชุญุฐูุฑุงุช",
        rating: 0,
        keywords: ["ููุชุจ ุงูุฎููุฌ ุงูุนุงููู", "ูุญุงูุงุฉ ูุตุงุจุฉ", "ุงุญุชูุงู ูุงูููู", "ุงุณุชุฑุฌุงุน ุฃููุงู ูุฒูู"]
      },
      
      // Law Firms
      {
        type: "lawyer",
        title: "ููุชุจ Trust Law",
        description: "ุฎุจุฑุงุก ุงุณุชุฑุฌุงุน ุฃููุงู ุงูููุฑูุณ ูุงูุงุณุชุซูุงุฑุงุช ุงูุงุญุชูุงููุฉ ูุน ุฎุจุฑุฉ 23 ุณูุฉ ููุนุฏู ูุฌุงุญ 98%",
        url: "/lawyers/trust-law/",
        category: "ููุงุชุจ ูุญุงูุงุฉ",
        rating: 5,
        keywords: ["Trust", "Law", "ุงุณุชุฑุฌุงุน", "ุฃููุงู", "ููุฑูุณ", "ุงุณุชุซูุงุฑุงุช", "ุงุญุชูุงููุฉ", "ููุฏู", "ูุญุงูู"]
      },
      {
        type: "lawyer",
        title: "ููุชุจ ุงูุนุฑุจูุฉ ูููุญุงูุงุฉ",
        description: "ูุชุฎุตุต ูู ูุถุงูุง ุงูุงุญุชูุงู ุงููุงูู ูุงูุงุณุชุซูุงุฑุงุช ุงูููููุฉ ูุน ุฎุจุฑุฉ 18 ุณูุฉ ููุนุฏู ูุฌุงุญ 94%",
        url: "/lawyers/alarabia-law/",
        category: "ููุงุชุจ ูุญุงูุงุฉ",
        rating: 4.9,
        keywords: ["ุงูุนุฑุจูุฉ", "ูุญุงูุงุฉ", "ุงุญุชูุงู", "ูุงูู", "ุงุณุชุซูุงุฑุงุช", "ููููุฉ", "ููุฏู", "ูุงูููู"]
      },
      {
        type: "lawyer",
        title: "ููุชุจ LAW FX",
        description: "ูุชุฎุตุต ูู ุงุณุชุฑุฌุงุน ุฃููุงู ุงูููุฑูุณ ูุงูุนููุงุช ุงูุฑูููุฉ ูุน ุฎุจุฑุฉ 15 ุณูุฉ ููุนุฏู ูุฌุงุญ 91%",
        url: "/lawyers/law-fx/",
        category: "ููุงุชุจ ูุญุงูุงุฉ",
        rating: 4.8,
        keywords: ["LAW", "FX", "ููุฑูุณ", "ุนููุงุช", "ุฑูููุฉ", "ุงุณุชุฑุฌุงุน", "ููุฏู", "ุชุฏุงูู"]
      },
      
      // Guides
      {
        type: "guide",
        title: "ููู ุชุชุญูู ูู ุฑุฎุตุฉ ุงูุดุฑูุฉ ูุจู ุงูุงุณุชุซูุงุฑ",
        description: "ุฏููู ุดุงูู ููุชุญูู ูู ุตุญุฉ ุฑุฎุตุฉ ุงูุดุฑูุฉ ูุชุฌูุจ ุงูุดุฑูุงุช ุงูููููุฉ ูุจู ุงูุงุณุชุซูุงุฑ",
        url: "/guides/verify-company-license/",
        category: "ุฃุฏูุฉ ุชูุนููุฉ",
        keywords: ["ุชุญูู", "ุฑุฎุตุฉ", "ุดุฑูุฉ", "ุงุณุชุซูุงุฑ", "ููููุฉ", "ุญูุงูุฉ", "ุชุฑุงุฎูุต"]
      },
      {
        type: "guide",
        title: "ุฎุทูุงุช ุงุณุชุฑุฌุงุน ุงูุฃููุงู ูู ุงูุจูู",
        description: "ุงูุฎุทูุงุช ุงููุงููููุฉ ูุงุณุชุฑุฌุงุน ุฃููุงูู ูู ุงูุจูู ูู ุญุงูุงุช ุงูุงุญุชูุงู ูุงููุนุงููุงุช ุบูุฑ ุงููุตุฑุญ ุจูุง",
        url: "/guides/bank-refund-process/",
        category: "ุฃุฏูุฉ ุชูุนููุฉ",
        keywords: ["ุงุณุชุฑุฌุงุน", "ุฃููุงู", "ุจูู", "Chargeback", "ุงุญุชูุงู", "ูุตุฑูู", "ูุงููููุฉ"]
      },
      {
        type: "guide",
        title: "ุนูุงูุงุช ุงูุชุญุฐูุฑ ูู ุดุฑูุงุช ุงูุงุณุชุซูุงุฑ ุงูููููุฉ",
        description: "ุชุนูู ููู ุชูุชุดู ุนูุงูุงุช ุงูุฅูุฐุงุฑ ุงููุจูุฑ ููุดุฑูุงุช ุงููุญุชุงูุฉ ูุชุญูู ููุณู ูู ุงูุงุณุชุซูุงุฑุงุช ุงูููููุฉ",
        url: "/guides/investment-scam-warning-signs/",
        category: "ุฃุฏูุฉ ุชูุนููุฉ",
        keywords: ["ุนูุงูุงุช", "ุชุญุฐูุฑ", "ุงุณุชุซูุงุฑ", "ููููุฉ", "ูุญุชุงูุฉ", "ุญูุงูุฉ", "ุฅูุฐุงุฑ"]
      },
      {
        type: "guide",
        title: "ููู ุชุญูู ููุณู ูู ุงุญุชูุงู ุงูุนููุงุช ุงูุฑูููุฉ",
        description: "ุฏููู ุดุงูู ูุญูุงูุฉ ุงุณุชุซูุงุฑุงุชู ูู ุงูุนููุงุช ุงูุฑูููุฉ ูู ุงููุญุชุงููู ูุงููุดุงุฑูุน ุงูููููุฉ",
        url: "/guides/crypto-scam-protection/",
        category: "ุฃุฏูุฉ ุชูุนููุฉ",
        keywords: ["ุญูุงูุฉ", "ุนููุงุช", "ุฑูููุฉ", "ุงุญุชูุงู", "ุจูุชูููู", "ูุฑูุจุชู", "ูุดุงุฑูุน", "ููููุฉ"]
      },
      {
        type: "guide",
        title: "ุงูุชุนุงูู ูุน ููุตุงุช ุงูุชุฏุงูู ุงููุดุจููุฉ",
        description: "ููู ุชุชุนุฑู ุนูู ููุตุงุช ุงูุชุฏุงูู ุงูุงุญุชูุงููุฉ ูุชุชุฌูุจูุง ูุชุญูู ุฃููุงูู ูู ุงููุณุทุงุก ุงููุญุชุงููู",
        url: "/guides/suspicious-trading-platforms/",
        category: "ุฃุฏูุฉ ุชูุนููุฉ",
        keywords: ["ููุตุงุช", "ุชุฏุงูู", "ูุดุจููุฉ", "ุงุญุชูุงููุฉ", "ูุณุทุงุก", "ูุญุชุงููู", "ุญูุงูุฉ"]
      },
      
      // Success Cases
      {
        type: "case",
        title: "ุงุณุชุฑุฌุงุน 2.5 ููููู ุฌููู ูู ููุตุฉ ููุฑูุณ ุงุญุชูุงููุฉ ุนุจุฑ Trust Law",
        description: "ูุถูุฉ ูุนูุฏุฉ ุชุถููุช ุชุชุจุน ุงูุฃููุงู ุนุจุฑ ุนุฏุฉ ุฏูู ูุงุณุชุฎุฏุงู ุงููุงููู ุงูุฏููู",
        url: "/cases/trust-law-forex-recovery-2-5m/",
        category: "ูุตุต ูุฌุงุญ",
        keywords: ["ุงุณุชุฑุฌุงุน", "ููููู", "ุฌููู", "ููุฑูุณ", "Trust", "Law", "ูุฌุงุญ", "ูุถูุฉ"]
      },
      {
        type: "case",
        title: "ูุฌุงุญ Trust Law ูู ุงุณุชุฑุฏุงุฏ 1.8 ููููู ุฌููู ูู ุดุฑูุฉ ุงุณุชุซูุงุฑ ููููุฉ",
        description: "ุดุฑูุฉ ุงุณุชุซูุงุฑ ููููุฉ ุงุฎุชูุช ุจุฃููุงู ุงููุณุชุซูุฑูู. ุชู ุงุณุชุฑุฌุงุน ูุงูู ุงููุจูุบ ุฎูุงู 10 ุฃุดูุฑ",
        url: "/cases/trust-law-investment-recovery-1-8m/",
        category: "ูุตุต ูุฌุงุญ",
        keywords: ["Trust", "Law", "ุงุณุชุฑุฏุงุฏ", "ููููู", "ุงุณุชุซูุงุฑ", "ููููุฉ", "ูุฌุงุญ"]
      }
    ];
    
    // Search function
    function searchContent(query) {
      if (!query || query.trim().length < 2) return [];
      
      const searchTerms = query.toLowerCase().trim().split(' ');
      
      return allContent.filter(item => {
        const searchableText = [
          item.title,
          item.description,
          item.category,
          ...item.keywords
        ].join(' ').toLowerCase();
        
        return searchTerms.some(term => searchableText.includes(term));
      }).sort((a, b) => {
        // Sort by relevance - exact matches first
        const aTitle = a.title.toLowerCase();
        const bTitle = b.title.toLowerCase();
        const queryLower = query.toLowerCase();
        
        if (aTitle.includes(queryLower) && !bTitle.includes(queryLower)) return -1;
        if (!aTitle.includes(queryLower) && bTitle.includes(queryLower)) return 1;
        
        return 0;
      }).slice(0, 8); // Limit to 8 results
    }
    
    // Render search results
    function renderResults(results) {
      if (results.length === 0) {
        searchResultsContent.innerHTML = `
          <div class="no-results">
            <p>ูู ูุชู ุงูุนุซูุฑ ุนูู ูุชุงุฆุฌ</p>
          </div>
        `;
        return;
      }
      
      const resultsHTML = results.map(result => {
        const typeIcon = {
          warning: 'โ๏ธ',
          lawyer: 'โ๏ธ',
          guide: '๐',
          case: 'โ'
        };
        
        const ratingHTML = result.rating !== undefined ? 
          `<div class="result-rating">${'โ'.repeat(Math.floor(result.rating))}${'โ'.repeat(5 - Math.floor(result.rating))}</div>` : '';
        
        return `
          <div class="search-result-item" onclick="window.location.href='${result.url}'">
            <div class="result-header">
              <span class="result-icon">${typeIcon[result.type]}</span>
              <span class="result-category">${result.category}</span>
              ${ratingHTML}
            </div>
            <h4 class="result-title">${result.title}</h4>
            <p class="result-description">${result.description}</p>
          </div>
        `;
      }).join('');
      
      searchResultsContent.innerHTML = resultsHTML;
    }
    
    // Handle search input
    function handleSearch() {
      const query = searchInput.value.trim();
      
      if (query.length < 2) {
        searchResults.style.display = 'none';
        return;
      }
      
      const results = searchContent(query);
      renderResults(results);
      searchResults.style.display = 'block';
    }
    
    // Event listeners
    searchInput.addEventListener('input', handleSearch);
    searchInput.addEventListener('focus', handleSearch);
    
    searchButton.addEventListener('click', function() {
      const query = searchInput.value.trim();
      if (query) {
        window.location.href = `/search?q=${encodeURIComponent(query)}`;
      }
    });
    
    searchInput.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        const query = searchInput.value.trim();
        if (query) {
          window.location.href = `/search?q=${encodeURIComponent(query)}`;
        }
      }
    });
    
    // Hide results when clicking outside
    document.addEventListener('click', function(e) {
      if (!e.target.closest('.search-form')) {
        searchResults.style.display = 'none';
      }
    });
    
    const mobileMenuToggle = document.getElementById('mobileMenuToggle');
    const navMenu = document.getElementById('navMenu');
    
    mobileMenuToggle?.addEventListener('click', function() {
      navMenu?.classList.toggle('active');
      mobileMenuToggle.classList.toggle('active');
      
      // Close search when menu opens
      if (navMenu?.classList.contains('active')) {
        searchResults.style.display = 'none';
      }
    });

    // Close mobile menu when clicking on a link
    const navLinks = document.querySelectorAll('.nav-link');
    navLinks.forEach(link => {
      link.addEventListener('click', () => {
        navMenu?.classList.remove('active');
        mobileMenuToggle?.classList.remove('active');
      });
    });

    // Close menu when clicking outside
    document.addEventListener('click', function(e) {
      if (!e.target.closest('.nav-menu') && !e.target.closest('.mobile-menu-toggle')) {
        navMenu?.classList.remove('active');
        mobileMenuToggle?.classList.remove('active');
      }
    });
  });
</script>

<style>
  .header {
    background: white;
    box-shadow: var(--shadow-md);
    position: sticky;
    top: 0;
    z-index: 1000;
    border-bottom: 3px solid var(--color-primary);
    transition: all 0.3s ease;
  }

  .header.scrolled {
    box-shadow: var(--shadow-lg);
    backdrop-filter: blur(10px);
    background: rgba(255, 255, 255, 0.95);
  }

  .nav {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-4) 0;
    gap: var(--space-6);
    transition: padding 0.3s ease;
  }

  .nav-brand {
    flex-shrink: 0;
  }

  .brand-link {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    text-decoration: none;
    color: var(--color-neutral-900);
  }

  .logo {
    height: 90px;
    width: auto;
    transition: height 0.3s ease;
  }

  .header.scrolled .logo {
    height: 60px;
  }

  .header.scrolled .nav {
    padding: var(--space-2) 0;
  }

  .search-container {
    flex: 1;
    max-width: 400px;
    margin: 0 var(--space-6);
  }

  .search-form {
    position: relative;
    display: flex;
    align-items: center;
  }

  .search-input {
    width: 100%;
    padding: var(--space-3) var(--space-12) var(--space-3) var(--space-4);
    border: 2px solid var(--color-neutral-200);
    border-radius: var(--radius-lg);
    font-size: 1rem;
    transition: border-color 0.2s ease;
    direction: rtl;
  }

  .search-input:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(30, 64, 175, 0.1);
  }

  .search-button {
    position: absolute;
    left: var(--space-2);
    padding: var(--space-2);
    background: var(--color-primary);
    color: white;
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.2s ease;
  }

  .search-button:hover {
    background: var(--color-primary-dark);
  }
  
  .search-results {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: white;
    border: 2px solid var(--color-neutral-200);
    border-top: none;
    border-radius: 0 0 var(--radius-lg) var(--radius-lg);
    box-shadow: var(--shadow-lg);
    max-height: 400px;
    overflow-y: auto;
    z-index: 1000;
  }
  
  .search-results-content {
    padding: var(--space-2);
  }
  
  .search-result-item {
    padding: var(--space-4);
    border-bottom: 1px solid var(--color-neutral-100);
    cursor: pointer;
    transition: background-color 0.2s ease;
  }
  
  .search-result-item:hover {
    background: var(--color-neutral-50);
  }
  
  .search-result-item:last-child {
    border-bottom: none;
  }
  
  .result-header {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    margin-bottom: var(--space-2);
  }
  
  .result-icon {
    font-size: 1rem;
  }
  
  .result-category {
    background: var(--color-primary);
    color: white;
    padding: var(--space-1) var(--space-2);
    border-radius: var(--radius-sm);
    font-size: 0.75rem;
    font-weight: var(--font-weight-bold);
  }
  
  .result-rating {
    color: var(--color-secondary);
    font-size: 0.875rem;
    margin-right: auto;
  }
  
  .result-title {
    font-size: 0.875rem;
    font-weight: var(--font-weight-semibold);
    color: var(--color-neutral-900);
    margin: 0 0 var(--space-1);
    line-height: 1.3;
  }
  
  .result-description {
    font-size: 0.75rem;
    color: var(--color-neutral-600);
    margin: 0;
    line-height: 1.4;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .no-results {
    padding: var(--space-6);
    text-align: center;
    color: var(--color-neutral-500);
  }
  
  .search-container {
    position: relative;
  }

  .nav-menu {
    display: flex;
    align-items: center;
  }

  .nav-links {
    display: flex;
    align-items: center;
    gap: var(--space-6);
  }

  .nav-link {
    font-weight: var(--font-weight-semibold);
    color: var(--color-neutral-700);
    text-decoration: none;
    padding: var(--space-2) var(--space-4);
    border-radius: var(--radius-md);
    transition: all 0.2s ease;
    white-space: nowrap;
  }

  .nav-link:hover {
    color: var(--color-primary);
    background: rgba(30, 64, 175, 0.05);
  }

  .nav-link.active {
    color: var(--color-primary);
    background: rgba(30, 64, 175, 0.1);
    font-weight: var(--font-weight-bold);
  }

  .mobile-menu-toggle {
    display: none;
    flex-direction: column;
    justify-content: center;
    width: 30px;
    height: 30px;
    background: transparent;
    cursor: pointer;
    transition: transform 0.3s ease;
  }

  .hamburger-line {
    display: block;
    height: 3px;
    width: 100%;
    background: var(--color-neutral-700);
    margin: 3px 0;
    border-radius: 2px;
    transition: all 0.3s ease;
  }

  .mobile-menu-toggle.active .hamburger-line:nth-child(1) {
    transform: rotate(45deg) translate(5px, 5px);
  }

  .mobile-menu-toggle.active .hamburger-line:nth-child(2) {
    opacity: 0;
  }

  .mobile-menu-toggle.active .hamburger-line:nth-child(3) {
    transform: rotate(-45deg) translate(7px, -6px);
  }

  @media (max-width: 1024px) {
    .search-container {
      max-width: 300px;
      margin: 0 var(--space-4);
    }
    
    .nav-links {
      gap: var(--space-4);
    }
  }

  @media (max-width: 768px) {
    .nav {
      flex-wrap: wrap;
      position: relative;
      padding: var(--space-3) 0;
    }

    .header.scrolled .nav {
      padding: var(--space-2) 0;
    }

    .logo {
      height: 60px;
    }

    .header.scrolled .logo {
      height: 45px;
    }

    .search-container {
      order: 3;
      flex: 1 1 100%;
      max-width: none;
      margin: var(--space-4) 0 0 0;
    }

    .header.scrolled .search-container {
      margin: var(--space-2) 0 0 0;
    }

    .nav-menu {
      position: absolute;
      top: 100%;
      right: 0;
      left: 0;
      background: white;
      box-shadow: var(--shadow-lg);
      border-radius: 0 0 var(--radius-lg) var(--radius-lg);
      transform: translateY(-10px);
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      z-index: 1000;
      max-height: 70vh;
      overflow-y: auto;
    }

    .nav-menu.active {
      transform: translateY(0);
      opacity: 1;
      visibility: visible;
    }

    .nav-links {
      flex-direction: column;
      align-items: stretch;
      gap: 0;
      padding: var(--space-4);
    }

    .nav-link {
      padding: var(--space-4);
      text-align: center;
      border-bottom: 1px solid var(--color-neutral-100);
    }

    .nav-link:last-child {
      border-bottom: none;
    }

    .mobile-menu-toggle {
      display: flex;
      width: 35px;
      height: 35px;
      padding: var(--space-2);
    }

    .header.scrolled .mobile-menu-toggle {
      width: 30px;
      height: 30px;
      padding: var(--space-1);
    }

    .hamburger-line {
      height: 2px;
      margin: 2px 0;
    }

    .header.scrolled .hamburger-line {
      height: 1.5px;
      margin: 1.5px 0;
    }
  }

  @media (max-width: 480px) {
    .nav {
      padding: var(--space-2) 0;
    }

    .header.scrolled .nav {
      padding: var(--space-1) 0;
    }

    .logo {
      height: 50px;
    }

    .header.scrolled .logo {
      height: 35px;
    }

    .search-container {
      margin: var(--space-3) 0 0 0;
    }

    .header.scrolled .search-container {
      margin: var(--space-1) 0 0 0;
    }

    .mobile-menu-toggle {
      width: 30px;
      height: 30px;
    }

    .header.scrolled .mobile-menu-toggle {
      width: 25px;
      height: 25px;
    }
  }
</style>